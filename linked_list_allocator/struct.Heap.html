<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Heap` struct in crate `linked_list_allocator`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Heap">

    <title>linked_list_allocator::Heap - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Struct Heap</p><div class="block items"><ul><li><a href="#methods">Methods</a></li></ul></div><p class='location'><a href='index.html'>linked_list_allocator</a></p><script>window.sidebarCurrent = {name: 'Heap', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>linked_list_allocator</a>::<wbr><a class="struct" href=''>Heap</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/linked_list_allocator/lib.rs.html#17-21' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Heap { /* fields omitted */ }</pre><div class='docblock'><p>A fixed size heap backed by a linked list of free memory blocks.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class="struct" href="../linked_list_allocator/struct.Heap.html" title="struct linked_list_allocator::Heap">Heap</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/linked_list_allocator/lib.rs.html#23-96' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.empty' class="method"><span id='empty.v' class='invisible'><code>const fn <a href='#method.empty' class='fnname'>empty</a>() -&gt; <a class="struct" href="../linked_list_allocator/struct.Heap.html" title="struct linked_list_allocator::Heap">Heap</a></code></span></h4>
<div class='docblock'><p>Creates an empty heap. All allocate calls will return <code>None</code>.</p>
</div><h4 id='method.init' class="method"><span id='init.v' class='invisible'><code>unsafe fn <a href='#method.init' class='fnname'>init</a>(&amp;mut self, heap_bottom: usize, heap_size: usize)</code></span></h4>
<div class='docblock'><p>Initializes an empty heap</p>

<h1 id='unsafety' class='section-header'><a href='#unsafety'>Unsafety</a></h1>
<p>This function must be called at most once and must only be used on an
empty heap.</p>
</div><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>unsafe fn <a href='#method.new' class='fnname'>new</a>(heap_bottom: usize, heap_size: usize) -&gt; <a class="struct" href="../linked_list_allocator/struct.Heap.html" title="struct linked_list_allocator::Heap">Heap</a></code></span></h4>
<div class='docblock'><p>Creates a new heap with the given <code>bottom</code> and <code>size</code>. The bottom address must be valid
and the memory in the <code>[heap_bottom, heap_bottom + heap_size)</code> range must not be used for
anything else. This function is unsafe because it can cause undefined behavior if the
given address is invalid.</p>
</div><h4 id='method.allocate_first_fit' class="method"><span id='allocate_first_fit.v' class='invisible'><code>fn <a href='#method.allocate_first_fit' class='fnname'>allocate_first_fit</a>(&amp;mut self, size: usize, align: usize) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;*mut u8&gt;</code></span></h4>
<div class='docblock'><p>Allocates a chunk of the given size with the given alignment. Returns a pointer to the
beginning of that chunk if it was successful. Else it returns <code>None</code>.
This function scans the list of free memory blocks and uses the first block that is big
enough. The runtime is in O(n) where n is the number of free blocks, but it should be
reasonably fast for small allocations.</p>
</div><h4 id='method.deallocate' class="method"><span id='deallocate.v' class='invisible'><code>unsafe fn <a href='#method.deallocate' class='fnname'>deallocate</a>(&amp;mut self, ptr: *mut u8, size: usize, _align: usize)</code></span></h4>
<div class='docblock'><p>Frees the given allocation. <code>ptr</code> must be a pointer returned
by a call to the <code>allocate_first_fit</code> function with identical size and alignment. Undefined
behavior may occur for invalid arguments, thus this function is unsafe.</p>

<p>This function walks the list of free memory blocks and inserts the freed block at the
correct place. If the freed block is adjacent to another free block, the blocks are merged
again. This operation is in <code>O(n)</code> since the list needs to be sorted by address.</p>
</div><h4 id='method.bottom' class="method"><span id='bottom.v' class='invisible'><code>fn <a href='#method.bottom' class='fnname'>bottom</a>(&amp;self) -&gt; usize</code></span></h4>
<div class='docblock'><p>Returns the bottom address of the heap.</p>
</div><h4 id='method.size' class="method"><span id='size.v' class='invisible'><code>fn <a href='#method.size' class='fnname'>size</a>(&amp;self) -&gt; usize</code></span></h4>
<div class='docblock'><p>Returns the size of the heap.</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "linked_list_allocator";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>